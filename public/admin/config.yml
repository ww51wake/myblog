backend:
  name: github
  repo: ww51wake/myblog     # ← 改成你的 GitHub 仓库
  branch: main
  base_url: https://myblog.vercel.app/     # ← 改成生产域名（指向部署了 OAuth Provider 的站点）
  auth_endpoint: /api/auth          # ← 按你选的 provider 要求（常见是 /api/auth）

site_url: https://myblog.vercel.app/
publish_mode: editorial_workflow     # 草稿/审核/发布工作流（建议开启）
show_preview_links: true

media_folder: "public/assets/images"
public_folder: "/assets/images"

collections:
  - name: "posts"
    label: "博客文章"
    folder: "src/data/blog"          # AstroPaper 文章目录
    create: true
    slug: "{{slug}}"
    preview_path: "posts/{{slug}}"   # 右上角 View Live/Preview 的目标路径
    identifier_field: "title"

    fields:
      - { label: "标题", name: "title", widget: "string" }
      - { label: "描述（摘要/SEO）", name: "description", widget: "text" }

      - label: "发布时间"
        name: "pubDatetime"
        widget: "datetime"
        default: "{{now}}"
        format: "YYYY-MM-DDTHH:mm:ss[Z]"
        picker_utc: true

      - label: "修改时间"
        name: "modDatetime"
        required: false
        widget: "datetime"
        format: "YYYY-MM-DDTHH:mm:ss[Z]"
        picker_utc: true

      - { label: "是否精选", name: "featured", widget: "boolean", default: false, required: false }
      - { label: "草稿", name: "draft", widget: "boolean", default: false, required: false }

      - label: "标签"
        name: "tags"
        widget: "list"
        allow_add: true
        field: { label: "标签", name: "tag", widget: "string" }

      - label: "封面图片（可选）"
        name: "ogImage"
        required: false
        widget: "image"

      - { label: "正文", name: "body", widget: "markdown" }
